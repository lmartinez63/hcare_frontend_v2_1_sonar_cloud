(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{357:function(t,e,n){"use strict";n.r(e);var i=n(396),a=n(371);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);var r=n(1),l=Object(r.a)(a.default,i.a,i.b,!1,null,null,null);l.options.__file="src/views/DataView.vue",e.default=l.exports},371:function(t,e,n){"use strict";n.r(e);var i=n(372),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e.default=a.a},372:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var installed=!1,_default={name:"DataView",data:function(){return{modal:!1,dateElements:0,window:0,optionButtonDirection:"bottom",fab:!1,optionButtonHover:!1,optionButtonTop:!0,optionButtonRight:!0,optionButtonBottom:!1,optionButtonLeft:!1,optionButtonTransition:"slide-y-reverse-transition",requestPage:""}},computed:{propertyItems:function(){return this.$store.state.general.properties.items.GENERAL},dataMap:function(){return this.$store.state.data.dataMap},page:function(){return this.$store.state.data.metadata.page}},created:function(){console.log("DataPage - created - begin");var t=this.$route.params.processName,e=this.$route.params.requestPage;this.requestPage=e;var n=this.$route.query;(0,this.$store.dispatch)("data/getData",{requestPage:e,processName:t,dataContent:JSON.parse(JSON.stringify(n))}),console.log("DataPage - created - end")},methods:{getDataMapAttribute:function(t,e){var n=e.split(".");if(n.length>0)for(var i=t[n[0]],a=1;a<n.length;a++)i=i[n[a]];return console.log(i),i},executeAction:function executeAction(button){var selfVue=this;switch(button.buttonType){case 1:for(var routeObject={},jsonString=button.eventDefinition,eventArray=button.eventDefinition.match(/\${{(.*?)}}/g),i=0,len=eventArray.length;i<len;i++){var dataRouteVariable=eventArray[i];jsonString=jsonString.replace(dataRouteVariable,eval(dataRouteVariable.match(/\$\{\{([^)]+)\}\}/)[1]))}routeObject=JSON.parse(jsonString),this.$router.push(routeObject);break;case 2:eval(button.eventDefinition)}},goBackBrowse:function(){this.$router.push({name:"BrowseComponent"})},getPatientInfo:function(){},saveObjectState:function(t,e){console.log("DataView - method - saveObjectState - begin");for(var n=t.split(","),i={},a=0;a<n.length;a++)Object.defineProperty(i,n[a],{value:this.dataMap[n[a]],writable:!0,enumerable:!0,configurable:!0});var o=this.requestPage;(0,this.$store.dispatch)("data/saveEntity",{vm:this,requestPage:o,processName:e,dataContent:i}),console.log("MedicalAppointmentPage - method - saveObjectState - end")},viewMedicalHistory:function(t){this.$router.push({name:"MedicalHistoryComponent",params:{historyCode:t}})},viewMedicalAppointmentHistory:function(t){this.$router.push({name:"BrowsePage",params:{browseName:"medicalAppointmentsByPatient",entityId:t}})}}};exports.default=_default},396:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[t.page&&t.dataMap?n("v-layout",{attrs:{"justify-center":"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("material-card",{attrs:{color:"green",title:t.getDataMapAttribute(t.dataMap,t.page.titleDefinition),text:t.getDataMapAttribute(t.dataMap,t.page.subTitleDefinition)}},[n("v-layout",{attrs:{"align-center":""}},[n("v-item-group",{staticClass:"shrink mr-4",attrs:{mandatory:"",tag:"v-flex"},model:{value:t.window,callback:function(e){t.window=e},expression:"window"}},t._l(t.page.sectionList,function(e){return n("v-item",{key:e.sectionCode,scopedSlots:t._u([{key:"default",fn:function(e){var i=e.active,a=e.toggle;return n("div",{},[n("v-btn",{attrs:{"input-value":i,icon:""},on:{click:a}},[n("v-icon",[t._v("mdi-record")])],1)],1)}}],null,!0)})}),1),t._v(" "),n("v-flex",[t.page.sectionList.length>0?n("v-window",{staticClass:"elevation-1",attrs:{vertical:""},model:{value:t.window,callback:function(e){t.window=e},expression:"window"}},t._l(t.page.sectionList,function(e){return n("v-window-item",{key:e.sectionCode},[n("v-layout",{attrs:{"align-center":"","mb-3":""}},[n("v-avatar",{staticClass:"mr-1",attrs:{color:"grey"}}),t._v(" "),n("strong",{staticClass:"title"},[t._v(t._s(t.$parent.$parent.$parent.getLabelValue(e.label)))]),t._v(" "),n("v-spacer")],1),t._v(" "),n("v-form",[n("v-container",{attrs:{"py-0":""}},[n("v-layout",{attrs:{wrap:""}},t._l(e.fieldDefinitionList,function(i){return n("v-flex",{key:i.fieldDefinitionCode},[1===i.fieldType?n("v-text-field",{attrs:{label:i.label.labelValueEsEs,disabled:i.editable},model:{value:t.dataMap[e.entity][i.fieldDefinitionCode],callback:function(n){t.$set(t.dataMap[e.entity],i.fieldDefinitionCode,n)},expression:"dataMap[section.entity][fieldDefinition.fieldDefinitionCode]"}}):t._e(),t._v(" "),2===i.fieldType?n("v-autocomplete",{ref:"dataMap[section.entity][fieldDefinition.fieldDefinitionCode]",refInFor:!0,attrs:{rules:[function(){return!!t.dataMap[e.entity][i.fieldDefinitionCode]||"Este campo es requerido"}],items:t.propertyItems[i.selectSource],label:i.label.labelValueEsEs,placeholder:"Seleccione..."},model:{value:t.dataMap[e.entity][i.fieldDefinitionCode],callback:function(n){t.$set(t.dataMap[e.entity],i.fieldDefinitionCode,n)},expression:"dataMap[section.entity][fieldDefinition.fieldDefinitionCode]"}}):t._e(),t._v(" "),4===i.fieldType?n("v-dialog",{ref:"dialog",refInFor:!0,attrs:{"return-value":t.dataMap[e.entity][i.fieldDefinitionCode],persistent:"",lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(n){return t.$set(t.dataMap[e.entity],i.fieldDefinitionCode,n)},"update:return-value":function(n){return t.$set(t.dataMap[e.entity],i.fieldDefinitionCode,n)}},scopedSlots:t._u([{key:"activator",fn:function(a){var o=a.on;return[n("v-text-field",t._g({attrs:{model:"section.entity[fieldDefinition.fieldDefinitionCode]",value:t.$parent.$parent.$parent.computedDateFormattedMomentjs(t.dataMap[e.entity][i.fieldDefinitionCode]),label:i.label.labelValueEsEs,"prepend-icon":"mdi-calendar",readonly:""}},o))]}}],null,!0),model:{value:i.modal,callback:function(e){t.$set(i,"modal",e)},expression:"fieldDefinition.modal"}},[t._v(" "),n("v-date-picker",{attrs:{scrollable:"",locale:"es"},model:{value:new Date(t.dataMap[e.entity][i.fieldDefinitionCode]).toJSON(),callback:function(n){t.$set(new Date(t.dataMap[e.entity][i.fieldDefinitionCode]),"toJSON()",n)},expression:"new Date(dataMap[section.entity][fieldDefinition.fieldDefinitionCode]).toJSON()"}},[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){i.modal=!1}}},[t._v("\n                              Cancelar\n                            ")]),t._v(" "),n("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(n){return t.$refs.dialog[0].save(t.dataMap[e.entity][i.fieldDefinitionCode])}}},[t._v("\n                              OK\n                            ")])],1)],1):t._e()],1)}),1)],1)],1)],1)}),1):t._e()],1)],1),t._v(" "),n("v-speed-dial",{attrs:{top:t.optionButtonTop,bottom:t.optionButtonBottom,right:t.optionButtonRight,left:t.optionButtonLeft,direction:t.optionButtonDirection,"open-on-hover":t.optionButtonHover,transition:t.optionButtonTransition},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-btn",{attrs:{color:"blue darken-2",dark:"",fab:""},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[n("v-icon",[t._v("mdi-dots-vertical")]),t._v(" "),n("v-icon",[t._v("mdi-close")])],1)]},proxy:!0}],null,!1,1964665447),model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[t._v(" "),t._l(t.page.pageButtons,function(e){return e.visible?n("v-btn",{key:e.buttonCode,attrs:{fab:"",dark:"",small:"",color:"green"},on:{click:function(n){return t.executeAction(e)}}},[n("v-icon",[t._v(t._s(e.icon))])],1):t._e()})],2)],1)],1)],1):t._e()],1)},a=[];i._withStripped=!0,n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})}}]);